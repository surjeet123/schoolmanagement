<!DOCTYPE html>
<html>

<head>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
        integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
</head>

<body>
    <div class="col-6" style="margin: 20px;">

        <div class="input-group input-group-sm mb-3" s>
            <div class="input-group-prepend">
                <span class="input-group-text" id="inputGroup-sizing-sm">Name</span>
            </div>
            <input type="text" id="studentname" class="form-control" aria-label="Sizing example input"
                aria-describedby="inputGroup-sizing-sm">
        </div>

        <div class="input-group input-group-sm mb-3" s>
            <div class="input-group-prepend">
                <span class="input-group-text" id="inputGroup-sizing-sm">Father's Name</span>
            </div>
            <input type="text" id="studentfname" class="form-control" aria-label="Sizing example input"
                aria-describedby="inputGroup-sizing-sm">
        </div>

        <div class="input-group input-group-sm mb-3" s>
            <div class="input-group-prepend">
                <span class="input-group-text" id="inputGroup-sizing-sm">mother's Name</span>
            </div>
            <input type="text" id="studentmname" class="form-control" aria-label="Sizing example input"
                aria-describedby="inputGroup-sizing-sm">
        </div>

        <label for="class">Class:</label>
        <select name="studenclass" class="form-control " id="studentclass">

        </select><br><br>

        <div class="input-group input-group-sm mb-3" s>
            <div class="input-group-prepend">
                <span class="input-group-text" id="inputGroup-sizing-sm">ADDRESS</span>
            </div>
            <input type="text" id="studentaddress" class="form-control" aria-label="Sizing example input"
                aria-describedby="inputGroup-sizing-sm">
        </div>



        <label for="Religion">Religion:</label>
        <select name="religion" class="form-control" id="studentreligion">

        </select><br><br>

        <div class="input-group input-group-sm mb-3" s>
            <div class="input-group-prepend">
                <span class="input-group-text" id="inputGroup-sizing-sm">POSTALCODE</span>
            </div>
            <input type="number" id="studentpostalcode" class="form-control" aria-label="Sizing example input"
                aria-describedby="inputGroup-sizing-sm">
        </div>

        <br><br>

        <input type="button" value="submit student details" id="btnstudent" class="btn btn-success">

    </div>
    <script src="jquery-3.5.1.min.js"></script>
    <script>
        $(document).ready(function () {
            $("#btnstudent").click(function () {
                var studentdetails = {
                    studentname: $("#studentname").val(),
                    fname: $("#studentfname").val(),
                    mname: $("#studentmname").val(),
                    class: $("#studentclass").val(),
                    address: $("#studentaddress").val(),
                    religion: $("#studentreligion").val(),
                    postalcode: $("#studentpostalcode").val()

                }
                $.ajax({
                    url: "http://localhost:3000/insertstudentrecord",
                    type: "POST",
                    data: JSON.stringify(studentdetails),
                    contentType: 'application/json; charset=utf-8',
                    complete: function (result) {
                        if (result.responseText == "true") {
                            alert("student details saved successfully")
                        } else {
                            alert("student details not saved")
                        }
                    }
                })
                $("#studentname").val("")
                $("#studentfname").val("")
                $("#studentmname").val("")
                $("#studentclass").val("")
                $("#studentaddress").val("")
                $("#studentreligion").val("")
                $("#studentpostalcode").val("")
            })
            $.ajax({
                url: "http://localhost:3000/dropdownclassstudent",
                type: "GET",
                complete: function (result) {
                    var stdclass = ""
                    $.each(result.responseJSON, function (i, v) {
                        stdclass += "<option value='" + v._id + "'>" + v.class + "</option>"
                    })
                    $("#studentclass").html(stdclass)
                }
            })
            $.ajax({
                url: "http://localhost:3000/religionstudent",
                type: "GET",
                complete: function (result) {
                    var religionstudent = ""
                    $.each(result.responseJSON, function (i, v) {
                        religionstudent += "<option value='" + v._id + "'>" + v.religion + "</option>"
                    })
                    $("#studentreligion").html(religionstudent)
                }

            })


        })
    </script>
    </div>
</body>

</html>